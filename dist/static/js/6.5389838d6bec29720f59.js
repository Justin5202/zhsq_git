webpackJsonp([6],{a5H1:function(e,t,a){var n=a("xJGJ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("6360bdcc",n,!0)},cEoS:function(e,t,a){"use strict";function n(e){a("a5H1")}Object.defineProperty(t,"__esModule",{value:!0});var r={"建筑物3D":"3d_building_layer_fiv","主城区建筑物":"zjjcq","主城区公园":"lygg_zc_gy","主城区道路":"zcqdlm","城市绿地":"csldm","主城街区":"jq"},i={props:["map"],name:"layerControl",data:function(){return{layers:r,validLayers:[],activeLayers:[]}},created:function(){this.updateActiveLayers()},methods:{handleItemChange:function(e){this.hideAll(),this.showLayers(e)},handleDragStart:function(e,t){e.dataTransfer.setData("index",t)},handleDrop:function(e,t){var a=e.dataTransfer.getData("index"),n=this.$refs["layer"+a][0],r=e.target.parentNode.parentNode,i=n.parentNode,o=this.getDragOrder(a),s=this.getDragOrder(t);return i.firstElementChild===r?i.insertBefore(n,i.firstElementChild):i.lastElementChild===r?i.appendChild(n):void(parseInt(o)<parseInt(s)?i.insertBefore(n,this.$refs.draglist.children[s+1]):i.insertBefore(n,r))},allowDrop:function(e){e.preventDefault()},getDragOrder:function(e){var t=this.$refs["layer"+e][0],a=void 0;return Array.prototype.map.call(this.$refs.draglist.children,function(e,n){if(e===t)return a=n,n}),a},updateActiveLayers:function(){for(var e in this.layers)this.map.getLayer(this.layers[e])&&(this.validLayers.push(e),"visible"===this.map.getLayoutProperty(this.layers[e],"visibility")&&this.activeLayers.push(e))},hideAll:function(){var e=this;this.validLayers.map(function(t){e.map.setLayoutProperty(e.layers[t],"visibility","none")})},showLayers:function(e){var t=this;e.map(function(e){t.map.setLayoutProperty(t.layers[e],"visibility","visible")})}}},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"layerControl"}},[a("span",[e._v("图层控制")]),e._v(" "),a("el-checkbox-group",{on:{change:e.handleItemChange},model:{value:e.activeLayers,callback:function(t){e.activeLayers=t},expression:"activeLayers"}},[a("div",{ref:"draglist",on:{dragover:e.allowDrop}},e._l(e.validLayers,function(t,n){return a("div",{key:n,ref:"layer"+n,refInFor:!0,staticClass:"check-item",attrs:{draggable:""},on:{dragstart:function(t){return e.handleDragStart(t,n)},drop:function(t){return e.handleDrop(t,n)}}},[a("el-checkbox",{attrs:{label:t}})],1)}))])],1)},s=[],l={render:o,staticRenderFns:s},c=l,d=a("VU/8"),p=n,h=d(i,c,!1,p,"data-v-363ca982",null);t.default=h.exports},xJGJ:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,"\n#layerControl[data-v-363ca982] {\n  font-size: 14px;\n  padding: 10px 20px 5px;\n}\n#layerControl span[data-v-363ca982] {\n    border-bottom: 1px solid #cccccc;\n    display: block;\n    padding: 5px 0px;\n    text-align: center;\n}\n#layerControl .check-item[data-v-363ca982] {\n    text-align: left;\n    font-size: 24px;\n}\n.check-item[data-v-363ca982] {\n  line-height: 25px;\n}\n.el-checkbox-group[data-v-363ca982] {\n  margin-top: 10px;\n}\n","",{version:3,sources:["C:/Users/Dell/Workplace/d2c_vue/src/components/content/layerControl.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,uBAAuB;CACxB;AACD;IACI,iCAAiC;IACjC,eAAe;IACf,iBAAiB;IACjB,mBAAmB;CACtB;AACD;IACI,iBAAiB;IACjB,gBAAgB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,iBAAiB;CAClB",file:"layerControl.vue",sourcesContent:["\n#layerControl[data-v-363ca982] {\n  font-size: 14px;\n  padding: 10px 20px 5px;\n}\n#layerControl span[data-v-363ca982] {\n    border-bottom: 1px solid #cccccc;\n    display: block;\n    padding: 5px 0px;\n    text-align: center;\n}\n#layerControl .check-item[data-v-363ca982] {\n    text-align: left;\n    font-size: 24px;\n}\n.check-item[data-v-363ca982] {\n  line-height: 25px;\n}\n.el-checkbox-group[data-v-363ca982] {\n  margin-top: 10px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=6.5389838d6bec29720f59.js.map